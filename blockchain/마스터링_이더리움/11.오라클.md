# [마스터링 이더리움] 11장. 오라클



본 포스트는 서적 *마스터링 이더리움*의 10장 *오라클* 파트를 정리한 포스트입니다. 



## 개요



### 소개

오라클은 외부의 데이터를 이더리움 스마트 컨트랙트로 제공하는 시스템이다. 이상적으로는 신뢰가 필요없는 시스템이며, 탈중앙화 원칙을 바탕으로 작동한다. 



### 오라클은 왜 필요한가?

오라클이 필요하게 된 배경을 먼저 살펴보겠다. 이더리움의 가상 머신은 탈중앙화된 네트워크 상의 모든 노드에서 합의의 규칙에 따라 이더리움 프로그램을 실행하고 상태를 업데이트할 수 있다. 합의를 유지하기 위해서 EVM 실행은 완전히 결정론적이고, 상태와 서명된 트랜잭션의 공유 컨텍스트에 기반을 둬야 한다.

이러한 특성은 두 가지 결과를 가져온다. 

첫 번째로, EVM 및 스마트 컨트랙트와 같이 동작하는 **임의성을 위한 고유한 소스**가 없다. 컨트랙트 내부에서 난수 함수를 사용한다면, 노드마다 실행 결과 달라져 탈중앙화된 합의가 불가할 것이다. 또한, 의사 난수 함수를 통해서, 공통적으로 임의 값을 받아온다고 하더라도 다양한 애플리케이션에서는 활용할 수 없다. 이더리움에서 의사 난수 함수는 블록체인의 상태 정보를 기반으로 하기 때문에, 결과값이 예측되거나 조작될 가능성이 존재한다.

두 번째로, **외부 데이터는 트랜잭션의 데이터 페이로드를 통해서만 유입**될 수 있다.

이러한 결과로 인해서, 실행에 임의의 난수가 필요하거나 외부 정보가 필요한 스마트 컨트랙의 경우, 외부로부터 데이터를 신뢰할 수 있게 전달해 줄 시스템이 필요하다. 





### 오라클 유스케이스와 사례

이상적으로 오라클은 축구 경기의 결과, 금 가격, 혹은 순수 난수와 같은 외부 정보를 가지고 오는 데 신뢰가 필요 없는 방법을 제공한다. 또한, 일부 오라클은 학력 증명서, 정부 ID와 같은 특정 프라이빗 데이터 출처에 의존하는 데이터를 제공한다. 이 경우, 데이터의 진실성은 주관적 문제가 되며, 데이터 제공자에 대한 신뢰가 필요하다.



## 오라클 디자인 패턴























