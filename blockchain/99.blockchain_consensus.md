# [블록체인] 합의 알고리즘 (Consensus Algorithm)



오늘은 블록체인을 구성하는 가장 중요한 요인들 중 하나인 합의 알고리즘에 대해서 정리해보고자 한다. 먼전 블록체인 트랜잭션이 어떤 순서로 진행되는 지 확인한 다음, 합의 알고리즘의 개념과 대표적인 종류들에 대해서 알아보고자 한다.



## 블록체인 트랜잭션



우선 블록체인의 종류와 상관없이, 일반적으로 다음과 같은 순서로 트랜잭션이 진행된다.

![image-20240109075555853](99.blockchain_consensus.assets/image-20240109075555853.png)

출처 : [[Blockchain Transactions](https://courses.edx.org/assets/courseware/v1/e0bd310e9f8bf0643b384efdd1919bb7/asset-v1:LinuxFoundationX+LFS170x+1T2023+type@asset+block/Chapter_3_Graphics-14.png)]

1. **사용자 요청**
   - 사용자가 블록체인에 저장되어야 할 작업을 수행한다.
2. **스마트 계약 활성화**
   - 작업은 스마트 계약 혹은 체인내 코드를 활성화시켜, 블록체인 내부에서 코드가 실행된다. 
   - 트랜잭션이란 코드의 실행결과로, 장부에 기입하고자 하는 내용이다.
3. **트랜잭션 네트워크 공표**
   - 특정 블록체인에서 실행 중인 프로토콜을 사용하는 블록체인 운영자들은 해당 트랜잭션을 블록체인 네트워크 전체에 퍼트린다.
4. **네트워크 동의**
   - 블록 생성자들은 트랜잭션들을 모아서, 새로운 블록을 생성한다.
   - 새로 생성된 블록을 추가할 것에 대해 **네트워크 내 합의**가 이루어진다.
5. **전체 장부 갱신**
   - 블록 운영자들은 새로 생성된 블록을 네트워크에 퍼트려 전체 노드들에 반영한다.
6. **사용자 공지**
   - 사용자들은 블록체인 생성에서부터의 이벤트를 공지받는다.



트랜잭션 과정에서 볼 수 있듯이, 블록체인에 새로운 블록(장부)가 추가되기 위해서는 누군가는 트랜잭션을 수집하여, 검증하고, 블록으로 생성해야 한다. 또한, 해당 블록이 블록체인 내에서 발생한 정상적인 트랜잭션들만 모은 올바른 장부인지 정확한 검증이 있어야 전체 블록에 신뢰를 가질 수 있을 것이다. 

블록체인에서는 이러한 과정을 사전에 정의된 합의 알고리즘을 통해 수행한다.





## 합의 알고리즘



### 개념

합의 알고리즘이란, 어떻게 블록 생성자를 선출하고, 어떻게 블록을 검증하고, 얼만큼 유인을 줄 것인지에 대해 네트워크 사용자들이 동의한 규약이다. 분산된 노드 간에 동의를 형성하여 트랜잭션의 유효성을 검증하고 블록을 추가하는 방식을 통해 전체 네트워크에서 일관된 상태를 유지한다.



### 대표 합의 알고리즘



#### PoW



#### PoS



#### PoA









Yes, both BFT (Byzantine Fault Tolerance) and IBFT (Improved Byzantine Fault Tolerance) are related to consensus algorithms, particularly in the context of distributed systems and blockchain networks.

Consensus algorithms are essential components of distributed systems that ensure all nodes or participants in the network agree on the state of the system. Byzantine Fault Tolerance refers to the system's ability to reach consensus even in the presence of malicious or faulty nodes.

1. **BFT (Byzantine Fault Tolerance):**

   - BFT is a category of consensus algorithms designed to tolerate Byzantine faults, which include arbitrary or malicious behavior by a subset of nodes in the network.
   - Examples of BFT algorithms include Practical Byzantine Fault Tolerance (PBFT), HoneyBadgerBFT, and Tendermint.

2. **IBFT (Improved Byzantine Fault Tolerance):**

   - IBFT is a specific instance or enhancement of BFT, introducing optimizations and improvements to the classic BFT algorithms.
   - IBFT is often used in the context of blockchain networks to achieve consensus among nodes, ensuring the agreement on the order and validity of transactions.

   

**BFT (Byzantine Fault Tolerance) and IBFT (Improved Byzantine Fault Tolerance):**

- **Relation to PoW/PoS:** BFT and IBFT are consensus algorithms specifically designed to address Byzantine faults, where nodes in a network may act maliciously or fail arbitrarily. They provide formal guarantees of consensus even in the presence of such faults.
- **Use Cases:** BFT and IBFT are often employed in permissioned blockchain networks where the participants are known and trusted. Examples include Practical Byzantine Fault Tolerance (PBFT), HoneyBadgerBFT, and some variations of Tendermint.
- **Security:** BFT and IBFT provide strong security guarantees against Byzantine faults but may have different trade-offs in terms of scalability and efficiency compared to PoW or PoS.











BFT, Pow : 다음 글

