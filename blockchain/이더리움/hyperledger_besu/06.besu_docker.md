# [Hyperledge Besu] Hyperledge Besu Docker Node로 Private Network 생성하기



독립적인 환경에서 Besu를 실행하고 테스트할 일이 생겨, Besu 노드들을 도커 컨테이너로 생성하여 띄워보고자 한다. 

Besu 네트워크를 설정하는 데 사용되는 genesis.json과 config.toml 파일은 [[Hyperledge Besu\] besu 시작하기 (config.toml, genesis file)](https://dev-ote.tistory.com/39)에 정리된 내용을 그대로 사용한다.

사전 준비로 docker 설치가 필요하다.



## 개요

Besu 노드는 각각의 컨테이너로 총 3개를 띄울 것이다. 

컨테이너들은 도커 브리지 네트워크를 통해서 서로 통신하며, 포트 바인딩을 통해 로컬 호스트에서 요청을 보낼 수 있도록 한다.

또한, Node-1 컨테이너를 네트워크의 초기 검증자(validator)이자 부트스트랩 노드로 지정할 것이다.

:bulb: 부트스트랩 노드 : 네트워크의 초기 구동 단계에서 노드들이 서로를 찾아 연결할 수 있도록 도와주는 역할 수행

![image-20240718192522559](/Users/sh/Library/Application Support/typora-user-images/image-20240718192522559.png)

- `Custom Bridge`라는 이름으로 docker bridge를 생성한다. 이때, 서브넷을 미리 지정해, 컨테이너들의 IP를 설정할 수 있도록 한다.
- 컨테이너의 ip 주소는 서브넷 내에만 있으면 상관없으며, 부트스트랩 노드로 사용하고자 하는 노드의 IP 주소만 config.toml 작성 때 필요하다.



## 네트워크 구동



### 1. besu 도커 이미지 pull



### 2. 노드 폴더 생성



### 3. 검증자 및 부트스트랩 노드의 주소 및 키 생성



### 4. docker-compose 파일 작성



### 5. 네트워크 설정 파일 작성



### 6. 구동

