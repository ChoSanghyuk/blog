# [Hyperledger Besu] 스마트 컨트랙트 (Golang)



[[Hyperledge Besu] 스마트 컨트랙트 생성하기 (js)](https://dev-ote.tistory.com/52)에서 했던 작업을 이번에는 golang을 활용해서 수행해 보고자 한다.

Besu 환경은 직전 포스트인 [TODO [Hyperledge Besu] Hyperledge Besu Docker Node로 Private Network 생성하기]()에서 설정한 환경을 사용할 것이다.

본 포스트의 수행에 앞서, docker와 golang 설치가 필요하다.



## 사전 준비

### solidity 이미지 

solidity 코드를 컴파일하기 위해, solidity 이미지를 pull 받는다. 이때, 자신이 사용하는 besu 버전과 호환되는 컴파일러 버전으로 pull 받아야한다.

```sh
docker pull ethereum/solc:0.8.6
```



### abigen 라이브러리

컨트랙트의 abi와 bin 파일을 가지고, golang 코드 파일을 생성해주는 abigen 라이브러리를 로컬에 설치한다.

```go
go install github.com/ethereum/go-ethereum/cmd/abigen@latest
```

:bulb: abigen 또한 도커 이미지를 활용해서 수행하기 위해서는 ethereum/client-go 이미지를 다운 받아, 추가적으로 설정을 해주어야 한다. (공식 이미지에는 abigen 설치되어 있지 않음.) 편의상 `go install`로 로컬에 라이브러리를 설치하였다.



## 컨트랙트 작업

### 스마트 컨트랙트 작성







### 스마트 컨트랙트 컴파일



### 컨트랙트 go 코드 생성





## Go 코드 작업













solidity 이미지

스마트 컨트랙트 작성

Abi/bin 생성

abigen

golang 컨트랙트 코드 작성

테스트 코드 수행









